{"ast":null,"code":"import _defineProperty from\"/home/ishita/Desktop/ADS/Brogrammers/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/ishita/Desktop/ADS/Brogrammers/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ishita/Desktop/ADS/Brogrammers/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/ishita/Desktop/ADS/Brogrammers/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/ishita/Desktop/ADS/Brogrammers/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/ishita/Desktop/ADS/Brogrammers/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Link,Redirect,withRouter}from'react-router-dom';import axios from'axios';import request from'request';import'../App.css';import url from'../config/default.js';import\"../style/frontpage.css\";var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);function Login(){var _getPrototypeOf2;var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Login)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={\"id\":\"\",\"name\":\"\",\"mobileNumber\":\"\",\"address\":\"\",\"emailID\":\"\",\"password\":\"\",\"status\":\"\"};_this.handleChange=function(e){// this.setState({ userid: event.target.value });\n// this.setState({ fullname: event.target.value });\n// this.setState({ usergroup: event.target.value });\n// this.setState({ emailID: event.target.value });\n// this.setState({ mobile: event.target.value });\n// this.setState({ password: event.target.value });\nvar name=e.target.name;var value=e.target.value;_this.setState(_defineProperty({},name,value));// }\n};_this.handleSubmit=function(event){event.preventDefault();var user={name:_this.state.name,id:_this.state.id,mobileNumber:_this.state.mobileNumber,address:_this.state.address,emailID:_this.state.emailID,password:_this.state.password,status:_this.state.status};// request\n//  .post('http://localhost:8080/rest/login')\n//  .on('response', function(response) {\n//  console.log(response)\n//  })\nvar history=_this.props.history;console.log(user);// axios.post(`/rest/login`, user, {\naxios.post(\"/rest/login\",user,{headers:{'Content-Type':'application/json','Access-Control-Allow-Origin':'*'}}).then(function(response){debugger;if(response.status==\"200\"){if(response.data.status==\"incorrect password.Try logging in again\"){window.alert('Incorrect password.Try logging in again');}else if(response.data.status==\"No user found.\"){window.alert('No user found with given email ID.');}else if(response.data.status==\"Logged In\"){console.log(\"response\",response);localStorage.setItem('user',response.data.id);console.log(\"User ID\",localStorage.getItem(user));history.push('/dashboard');}else{window.alert('Something went wrong. Please try again');}}else{window.alert('Something went wrong. Please try again');}}).catch(function(error){console.log(\"ALLAL\",error);console.log(\"data\",{user:user});});};return _this;}_createClass(Login,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"bg-img1\"},React.createElement(\"div\",{className:\"container text-center\"},React.createElement(\"div\",{className:\"login\"},React.createElement(\"form\",{onSubmit:this.handleSubmit},React.createElement(\"h2\",{style:{color:\"#000000\"}},\"Login.....\"),React.createElement(\"div\",{className:\"username\"},React.createElement(\"input\",{type:\"text\",placeholder:\"Username...\",value:this.state.emailID,onChange:this.handleChange,name:\"emailID\"})),React.createElement(\"div\",{className:\"password\"},React.createElement(\"input\",{type:\"password\",placeholder:\"Password...\",value:this.state.password,onChange:this.handleChange,name:\"password\"})),React.createElement(\"div\",{className:\"wrapper text-center\"},React.createElement(\"input\",{style:{justifyContent:\"center\"},type:\"submit\"}))),React.createElement(Link,{to:\"/register\"},\"Create an account\"))));}}]);return Login;}(React.Component);export{Login as default};","map":{"version":3,"sources":["/home/ishita/Desktop/ADS/Brogrammers/src/components/Login.js"],"names":["React","Component","Link","Redirect","withRouter","axios","request","url","Login","state","handleChange","e","name","target","value","setState","handleSubmit","event","preventDefault","user","id","mobileNumber","address","emailID","password","status","history","props","console","log","post","headers","then","response","data","window","alert","localStorage","setItem","getItem","push","catch","error","color","justifyContent"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link, Redirect, withRouter } from 'react-router-dom';\nimport axios from 'axios';\nimport request from 'request';\nimport '../App.css'\nimport url from '../config/default.js';\nimport \"../style/frontpage.css\";\n\nexport default class Login extends React.Component {\n\tstate = {\n\t\t\"id\": \"\",\n\t\t\"name\": \"\",\n\t\t\"mobileNumber\": \"\",\n\t\t\"address\": \"\",\n\t\t\"emailID\": \"\",\n\t\t\"password\": \"\",\n\t\t\"status\": \"\"\n\t}\n\n\thandleChange = e => {\n\t\t// this.setState({ userid: event.target.value });\n\t\t// this.setState({ fullname: event.target.value });\n\t\t// this.setState({ usergroup: event.target.value });\n\t\t// this.setState({ emailID: event.target.value });\n\t\t// this.setState({ mobile: event.target.value });\n\t\t// this.setState({ password: event.target.value });\n\n\t\tlet name = e.target.name;\n\t\tlet value = e.target.value;\n\t\tthis.setState({\n\t\t\t[name]: value\n\t\t});\n\t// }\n\t}\n\n\thandleSubmit = event => {\n        event.preventDefault();\n\n        const user = {\n            name: this.state.name,\n            id: this.state.id,\n            mobileNumber: this.state.mobileNumber,\n            address: this.state.address,\n            emailID: this.state.emailID,\n            password: this.state.password,\n            status: this.state.status\n\n        };\n\n        // request\n        //  .post('http://localhost:8080/rest/login')\n        //  .on('response', function(response) {\n        //  console.log(response)\n        //  })\n        const { history } = this.props;\n\t\tconsole.log(user)\n\t\t\t// axios.post(`/rest/login`, user, {\n\n        axios.post(`/rest/login`, user, {\n            headers: {\n                'Content-Type': 'application/json',\n                'Access-Control-Allow-Origin': '*',\n            }\n        })\n            .then(function (response) {\n                debugger;\n                if (response.status == \"200\") {\n                    if(response.data.status ==\"incorrect password.Try logging in again\"){\n                        window.alert('Incorrect password.Try logging in again')\n                    }else if(response.data.status == \"No user found.\"){\n                        window.alert('No user found with given email ID.')\n                    }else if(response.data.status == \"Logged In\"){\n                        console.log(\"response\",response)\n                        localStorage.setItem('user', response.data.id)\n                        console.log(\"User ID\",localStorage.getItem(user))\n                        history.push('/dashboard')\n                    }else{\n                        window.alert('Something went wrong. Please try again')\n                    }\n\n                }else{\n                    window.alert('Something went wrong. Please try again')\n                }\n            })\n            .catch(function (error) {\n                console.log(\"ALLAL\", error);\n                console.log(\"data\", { user });\n            });\n\n    }\n\n\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"bg-img1\">\n\t\t\t\t<div className=\"container text-center\">\n\t\t\t\t\t<div className=\"login\" >\n\t\t\t\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t\t\t\t<h2 style={{ color: \"#000000\" }}>Login.....</h2>\n\t\t\t\t\t\t\t<div className=\"username\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Username...\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.emailID}\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t\tname=\"emailID\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"password\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Password...\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.password}\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"wrapper text-center\">\n\t\t\t\t\t\t\t\t<input style={{ justifyContent: \"center\" }} type=\"submit\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\n\t\t\t\t\t\t<Link to=\"/register\">Create an account</Link>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}